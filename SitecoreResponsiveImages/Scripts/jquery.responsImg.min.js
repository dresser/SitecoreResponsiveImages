jQuery.responsImg=function(e,n){var r,i,t,o,a,s,u,c,l,d,w,f,p,g,v,m,h;return i={allowDownsize:!1,elementQuery:!1,delay:200,breakpoints:null,considerDevice:!1},n&&jQuery.extend(i,n),h=jQuery(window),e=jQuery(e),g={},a=null,f=null,d=0,p=!1,l=function(){a=u(e),window.devicePixelRatio<1.5||(p=!0),g[0]=Array("IMG"===a?e.attr("src"):s(e)),h.on("resize.responsImg orientationchange.responsImg",w),o()},s=function(e){var n;return n=e.css("background-image"),n=n.replace("url(",""),n=n.replace(")","")},u=function(e){return jQuery(e).prop("tagName")},o=function(){var n,t,o,a,s,u,c,l;o=e.data(),u=/^responsimg/;for(a in o)if(l=o[a],u.test(a)){if(s=a.replace("responsimg",""),isNaN(s)){s=s.toLowerCase(),c=i.breakpoints;for(n in c)t=c[n],s===n&&(s=t)}else s=parseInt(s,10);g[s]=l.replace(" ","").split(",")}r()},w=function(){clearTimeout(f),f=setTimeout(r,i.delay)},t=function(){var n,r,t;return n=null,i.elementQuery===!0?(n=e.width(),null!=window.orientation&&i.considerDevice&&(t=h.width(),r=c(),n=Math.ceil(r*n/t))):n=null!=window.orientation&&i.considerDevice?c():h.width(),n},c=function(){var e;return e=0===window.orientation?window.screen.width:window.screen.height,navigator.userAgent.indexOf("Android")>=0&&window.devicePixelRatio&&(e/=window.devicePixelRatio),e},r=function(){var n,r,o,s,u,c;if(u=t(),n=0,d=0,r=!0,s="",u>d?d=u:i.allowDownsize===!1&&(r=!1),r===!0){for(o in g)c=g[o],parseInt(o,10)>u||parseInt(o,10)<n||(n=parseInt(o,10),s=g[n][0]);p===!0&&null!=g[n][1]&&(s=g[n][1]),"IMG"===a?m(e,s):v(e,s)}},m=function(e,n){var r;r=e.attr("src"),n!==r&&e.attr("src",n)},v=function(e,n){var r;r=s(e),n!==r&&e.css("background-image","url("+n+")")},l(),this.recheck=function(){r()},this},jQuery.fn.responsImg=function(e){return this.each(function(){var n,r;n=jQuery(this),void 0===n.data("responsImg")&&(r=new jQuery.responsImg(this,e),n.data("responsImg",r))})};